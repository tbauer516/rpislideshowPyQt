
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Qt Location Open Street Map Plugin &#8212; Qt for Python (Technology Preview)</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.11.0~a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" title="Search" href="../search.html" />
  <link rel="stylesheet" type="text/css" href="/style/pyside.css" />
  <link rel="icon" type="image/png" href="/style/pyside-32px.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/style/pyside-16px.png" sizes="16x16" />
  <script type="text/javascript"> wpThemeFolder = 'http://qt.io/wp-content/themes/oneqt'; </script>
  <script type="text/javascript" src="/scripts/main.js"></script>
  <script type="text/javascript" src="/scripts/extras.js"></script>
  <script type="text/javascript">
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-54043535-2', 'qt.io');
    ga('set', 'forceSSL', true);
    ga('send', 'pageview');
  </script>

  </head>
  <body>
<div id="container">
    <div class="header">
        <div class="header_container">
            <header id="navbar">
            </header>
        </div>
    </div>
    <div class="main">
        <div class="main-rounded">
            <div class="navigationbar">
                <ul class="sub-navigation">
                    <li><a href="http://wiki.qt.io/">Wiki</a></li>
                    <li><a href="https://doc.qt.io/">Documentation</a></li>
                    <li><a href="http://forum.qt.io/">Forum</a></li>
                    <li><a href="https://bugreports.qt.io/">Bug Reports</a></li>
                    <li><a href="https://codereview.qt-project.org/">Code Review</a></li>
                </ul>
                <div id="main_title_bar"><h1>Qt Documentation</h1></div>
                <div class="related">
                    <ul>
                        <li><a href="../index.html">Qt for Python (Technology Preview)</a></li> 
                    </ul>
                </div>
            </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Qt Location Open Street Map Plugin</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
<li><a class="reference internal" href="#optional-parameters">Optional parameters</a></li>
<li><a class="reference internal" href="#parameter-usage-example">Parameter Usage Example</a></li>
<li><a class="reference internal" href="#qml">QML</a></li>
<li><a class="reference internal" href="#other-plugin-specific-information">Other Plugin-specific Information</a></li>
<li><a class="reference internal" href="#tile-cache">Tile cache</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" id="q" size="18" />
      <input type="submit" value="Go" id="search_button" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="qt-location-open-street-map-plugin">
<span id="id1"></span><h1>Qt Location Open Street Map Plugin<a class="headerlink" href="#qt-location-open-street-map-plugin" title="Permalink to this headline">¶</a></h1>
<p>Uses Open Street Map and related services</p>
<blockquote>
<div>Uses Open Street Map and related services.</div></blockquote>
<div class="section" id="overview">
<span id="id2"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>This geo services plugin allows applications to access Open Street Map location based services using the Qt Location API.</p>
<p>Data, imagery and map information provided by OpenMapSurfer, ThunderForest, OpenStreetMap and contributors. The data is available under the Open Database License.</p>
<p>The Open Street Map geo services plugin can be loaded by using the plugin key “osm”.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since Qt 5.6.2, the available map types offered by this plugin may change without notice depending on the actual availability of each provider. To prevent these changes, either a different geo service plugin should be used, or the plugin parameter <em>osm.mapping.providersrepository.address</em> should be set to a user-specified repository, in order to take full control over (and accept <strong>responsibility</strong> for) selecting the provider that is used for each map type.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="parameters">
<span id="id3"></span><h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div></div></blockquote>
</div>
<div class="section" id="optional-parameters">
<span id="id4"></span><h2>Optional parameters<a class="headerlink" href="#optional-parameters" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The following table lists optional parameters that can be passed to the Open Street Map plugin.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since Qt 5.5 all parameters below must be prefixed with <code class="docutils literal"><span class="pre">osm</span></code> . Previous versions did not require a prefix.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Parameter</td>
<td>Description</td>
</tr>
<tr class="row-even"><td>osm.geocoding.host</td>
<td><p class="first">Url string set when making network requests to the geocoding server. This parameter should be set to a valid server url with the correct osm API. If not specified the default url will be used.</p>
<blockquote class="last">
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The API documentation is available at Project OSM Nominatim.</p>
</div>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td>osm.mapping.cache.directory</td>
<td><p class="first">Absolute path to map tile cache directory used as network disk cache.</p>
<blockquote class="last">
<div>The default place for the cache is the <code class="docutils literal"><span class="pre">QtLocation/osm</span></code> subdirectory in the location returned by <code class="xref py py-func docutils literal"><span class="pre">QStandardPaths.writableLocation()</span></code> , called with <code class="xref py py-attr docutils literal"><span class="pre">QStandardPaths.GenericCacheLocation</span></code> as a parameter. On systems that have no concept of a shared cache, the application-specific <code class="xref py py-attr docutils literal"><span class="pre">QStandardPaths.CacheLocation</span></code> is used instead.</div></blockquote>
</td>
</tr>
<tr class="row-even"><td>osm.mapping.cache.disk.cost_strategy</td>
<td>The cost strategy to use to cache map tiles on disk. Valid values are <strong>bytesize</strong> and <strong>unitary</strong> . Using <strong>bytesize</strong> , the related size parameter (<strong>osm.mapping.cache.disk.size</strong> ) will be interpreted as bytes. Using <strong>unitary</strong> , they will be interpreted as number of tiles. The default value for this parameter is <strong>bytesize</strong> .</td>
</tr>
<tr class="row-odd"><td>osm.mapping.cache.disk.size</td>
<td>Disk cache size for map tiles. The default size of the cache is 50 MiB when <strong>bytesize</strong> is the cost strategy for this cache, or 1000 tiles, when <strong>unitary</strong> is the cost strategy.</td>
</tr>
<tr class="row-even"><td>osm.mapping.cache.memory.cost_strategy</td>
<td>The cost strategy to use to cache map tiles in memory. Valid values are <strong>bytesize</strong> and <strong>unitary</strong> . Using <strong>bytesize</strong> , the related size parameter (<strong>osm.mapping.cache.memory.size</strong> ) will be interpreted as bytes. Using <strong>unitary</strong> , they will be interpreted as number of tiles. The default value for this parameter is <strong>bytesize</strong> .</td>
</tr>
<tr class="row-odd"><td>osm.mapping.cache.memory.size</td>
<td>Memory cache size for map tiles. The default size of the cache is 3 MiB when <strong>bytesize</strong> is the cost strategy for this cache, or 100 tiles, when <strong>unitary</strong> is the cost strategy.</td>
</tr>
<tr class="row-even"><td>osm.mapping.cache.texture.cost_strategy</td>
<td>The cost strategy to use to cache decompressed map tiles in memory. Valid values are <strong>bytesize</strong> and <strong>unitary</strong> . Using <strong>bytesize</strong> , the related size parameter (<strong>osm.mapping.cache.texture.size</strong> ) will be interpreted as bytes. Using <strong>unitary</strong> , they will be interpreted as number of tiles. The default value for this parameter is <strong>bytesize</strong> .</td>
</tr>
<tr class="row-odd"><td>osm.mapping.cache.texture.size</td>
<td>Texture cache size for map tiles. The default size of the cache is 6 MiB when <strong>bytesize</strong> is the cost strategy for this cache, or 30 tiles, when <strong>unitary</strong> is the cost strategy. Note that the texture cache has a hard minimum size which depends on the size of the map viewport (it must contain enough data to display the tiles currently visible on the display). This value is the amount of cache to be used in addition to the bare minimum.</td>
</tr>
<tr class="row-even"><td>osm.mapping.custom.datacopyright</td>
<td>Custom data copryright string is used when setting the <span class="xref std std-ref">Map::activeMapType</span> to <span class="xref std std-ref">MapType</span> .CustomMap via urlprefix parameter. This copyright will only be used when using the CustomMap from above. If empty no data copyright will be displayed for the custom map.</td>
</tr>
<tr class="row-odd"><td>osm.mapping.custom.host</td>
<td><p class="first">Url string of a custom tile server. This parameter should be set to a valid server url offering the correct osm API. To use this server, the <span class="xref std std-ref">Map::activeMapType</span> parameter of the <span class="xref std std-ref">Map</span> should be set to the supported map type whose type is <span class="xref std std-ref">MapType</span> .CustomMap. This map type is only be available if this plugin parameter is set, in which case it is always <span class="xref std std-ref">Map::supportedMapTypes</span> [supportedMapTypes.length - 1].</p>
<blockquote class="last">
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Setting the mapping.custom.host parameter to a new server renders the map tile cache useless for the old custommap style.</p>
</div>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td>osm.mapping.custom.mapcopyright</td>
<td>Custom map copryright string is used when setting the <span class="xref std std-ref">Map::activeMapType</span> to <span class="xref std std-ref">MapType</span> .CustomMap via urlprefix parameter. This copyright will only be used when using the CustomMap from above. If empty no map copyright will be displayed for the custom map.</td>
</tr>
<tr class="row-odd"><td>osm.mapping.highdpi_tiles</td>
<td>Whether or not to request high dpi tiles. Valid values are <strong>true</strong> and <strong>false</strong> . The default value is <strong>false</strong> . Please note that not all map types are available in high dpi. Setting this parameter to true might even have no effect if no map type is available in high dpi at the moment. Provider information files for high dpi tiles are named <code class="docutils literal"><span class="pre">street-hires</span></code> , <code class="docutils literal"><span class="pre">satellite-hires</span></code> , <code class="docutils literal"><span class="pre">cycle-hires</span></code> , <code class="docutils literal"><span class="pre">transit-hires</span></code> , <code class="docutils literal"><span class="pre">night-transit-hires</span></code> , <code class="docutils literal"><span class="pre">terrain-hires</span></code> and <code class="docutils literal"><span class="pre">hiking-hires</span></code> . These are fetched from the same location used for the low dpi counterparts.</td>
</tr>
<tr class="row-even"><td>osm.mapping.offline.directory</td>
<td>Absolute path to a directory containing map tiles used as an offline storage. If specified, it will work together with the network disk cache, but tiles won’t get automatically inserted, removed or updated. The format of the tiles is the same used by the network disk cache. There is no default value, and if this property is not set, no directory will be indexed and only the network disk cache will be used to reduce network usage or to act as an offline storage for the currently cached tiles.</td>
</tr>
<tr class="row-odd"><td>osm.mapping.prefetching_style</td>
<td>This parameter allows to provide a hint how tile prefetching is to be performed by the engine. The default value, <code class="docutils literal"><span class="pre">TwoNeighbourLayers</span></code> , makes the engine prefetch tiles for the layer above and the one below the current tile layer, providing ready tiles when zooming in or out from the current zoom level. <code class="docutils literal"><span class="pre">OneNeighbourLayer</span></code> only prefetches the one layer closest to the current zoom level. Finally, <code class="docutils literal"><span class="pre">NoPrefetching</span></code> allows to disable the prefetching, so only tiles that are visible will be fetched. Note that, depending on the active map type, this hint might be ignored.</td>
</tr>
<tr class="row-even"><td>osm.mapping.providersrepository.address</td>
<td>The OpenStreetMap plugin retrieves the provider’s information from a remote repository. This is done to prevent using hardcoded servers by default, which may become unavailable. By default this information is fetched from maps-redirect.qt.io. Setting this parameter changes the provider repository address to a user-specified one, which must contain the files <code class="docutils literal"><span class="pre">street</span></code> , <code class="docutils literal"><span class="pre">satellite</span></code> , <code class="docutils literal"><span class="pre">cycle</span></code> , <code class="docutils literal"><span class="pre">transit</span></code> , <code class="docutils literal"><span class="pre">night-transit</span></code> , <code class="docutils literal"><span class="pre">terrain</span></code> and <code class="docutils literal"><span class="pre">hiking</span></code> , each of which must contain valid provider information.</td>
</tr>
<tr class="row-odd"><td>osm.mapping.providersrepository.disabled</td>
<td>By default, the OpenStreetMap plugin retrieves the provider’s information from a remote repository to avoid a loss of service due to unavailability of hardcoded services. The plugin, however, still contains fallback hardcoded provider data, in case the provider repository becomes unreachable. Setting this parameter to <strong>true</strong> makes the plugin use the hardcoded urls only and therefore prevents the plugin from fetching provider data from the remote repository.</td>
</tr>
<tr class="row-even"><td>osm.places.debug_query</td>
<td>Set this parameter to true to have an extended attribute in each result named “requestUrl”, and containing the url used for the query. Default is <strong>false</strong> .</td>
</tr>
<tr class="row-odd"><td>osm.places.host</td>
<td><p class="first">Url string set when making network requests to the places server. This parameter should be set to a valid server url with the correct osm API. If not specified the default url will be used.</p>
<blockquote class="last">
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The API documentation is available at Project OSM Nominatim.</p>
</div>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td>osm.places.page_size</td>
<td>The amount of results in a page. Note that this value might be clamped server side. The typical maximum in standard nominatim instances is 50.</td>
</tr>
<tr class="row-odd"><td>osm.routing.apiversion</td>
<td>String defining the api version of the (custom) OSRM server. Valid values are <strong>v4</strong> and <strong>v5</strong> . The default is <strong>v5</strong> . This parameter should be set only if <code class="docutils literal"><span class="pre">osm.routing.host</span></code> is set, and is an OSRM v4 server.</td>
</tr>
<tr class="row-even"><td>osm.routing.host</td>
<td><p class="first">Url string set when making network requests to the routing server. This parameter should be set to a valid server url with the correct osrm API. If not specified the default url will be used.</p>
<blockquote class="last">
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The API documentation and sources are available at Project OSRM.</p>
</div>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td>osm.useragent</td>
<td>User agent string set when making network requests. This parameter should be set to a value that uniquely identifies the application. Note that providers might block applications not setting this parameter, leaving it to the stock plugin user agent (e.g., Nominatim for geocoding)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="parameter-usage-example">
<span id="id5"></span><h2>Parameter Usage Example<a class="headerlink" href="#parameter-usage-example" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>The following example shows how to create an OSM plugin instance with parameters supplied for an useragent, and if necessary, a custom server url plus the corresponding copyright information for the tile provider. Additionally, it is possible to choose another routing server than the public osrm one.</div></blockquote>
</div>
<div class="section" id="qml">
<span id="id6"></span><h2>QML<a class="headerlink" href="#qml" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Plugin</span> <span class="p">{</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;osm&quot;</span>
    <span class="n">PluginParameter</span> <span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;osm.useragent&quot;</span><span class="p">;</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;My great Qt OSM application&quot;</span> <span class="p">}</span>
    <span class="n">PluginParameter</span> <span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;osm.mapping.host&quot;</span><span class="p">;</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;http://osm.tile.server.address/&quot;</span> <span class="p">}</span>
    <span class="n">PluginParameter</span> <span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;osm.mapping.copyright&quot;</span><span class="p">;</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;All mine&quot;</span> <span class="p">}</span>
    <span class="n">PluginParameter</span> <span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;osm.routing.host&quot;</span><span class="p">;</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;http://osrm.server.address/viaroute&quot;</span> <span class="p">}</span>
    <span class="n">PluginParameter</span> <span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;osm.geocoding.host&quot;</span><span class="p">;</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;http://geocoding.server.address&quot;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="other-plugin-specific-information">
<span id="id7"></span><h2>Other Plugin-specific Information<a class="headerlink" href="#other-plugin-specific-information" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div></div></blockquote>
</div>
<div class="section" id="tile-cache">
<span id="id8"></span><h2>Tile cache<a class="headerlink" href="#tile-cache" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>The tiles are cached in a <code class="docutils literal"><span class="pre">QtLocation/osm</span></code> directory in <code class="xref py py-func docutils literal"><span class="pre">QStandardPaths.writableLocation()</span></code> ( <code class="xref py py-attr docutils literal"><span class="pre">QStandardPaths.GenericCacheLocation</span></code> ). On systems that have no concept of a shared cache, the application-specific <code class="xref py py-attr docutils literal"><span class="pre">QStandardPaths.CacheLocation</span></code> is used instead.</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <p>© 2018 The Qt Company Ltd. Documentation contributions included herein are the copyrights of their respective owners. The documentation provided herein is licensed under the terms of the <a href="http://www.gnu.org/license/fdl.html">GNU Free Documentation License version 1.3</a> as published by the Free Software Foundation. Qt and respective logos are trademarks of The Qt Company Ltd. in Finland and/or other countries worldwide. All other trademarks are property of their respective owners.</p>
    </div></div>
    <div id="footer" class="footer">
    </div>
</div>
  </body>
</html>