
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Places List (QML) &#8212; Qt for Python (Technology Preview)</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.11.0~a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" title="Search" href="../search.html" />
  <link rel="stylesheet" type="text/css" href="/style/pyside.css" />
  <link rel="icon" type="image/png" href="/style/pyside-32px.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/style/pyside-16px.png" sizes="16x16" />
  <script type="text/javascript"> wpThemeFolder = 'http://qt.io/wp-content/themes/oneqt'; </script>
  <script type="text/javascript" src="/scripts/main.js"></script>
  <script type="text/javascript" src="/scripts/extras.js"></script>
  <script type="text/javascript">
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-54043535-2', 'qt.io');
    ga('set', 'forceSSL', true);
    ga('send', 'pageview');
  </script>

  </head>
  <body>
<div id="container">
    <div class="header">
        <div class="header_container">
            <header id="navbar">
            </header>
        </div>
    </div>
    <div class="main">
        <div class="main-rounded">
            <div class="navigationbar">
                <ul class="sub-navigation">
                    <li><a href="http://wiki.qt.io/">Wiki</a></li>
                    <li><a href="https://doc.qt.io/">Documentation</a></li>
                    <li><a href="http://forum.qt.io/">Forum</a></li>
                    <li><a href="https://bugreports.qt.io/">Bug Reports</a></li>
                    <li><a href="https://codereview.qt-project.org/">Code Review</a></li>
                </ul>
                <div id="main_title_bar"><h1>Qt Documentation</h1></div>
                <div class="related">
                    <ul>
                        <li><a href="../index.html">Qt for Python (Technology Preview)</a></li> 
                    </ul>
                </div>
            </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Places List (QML)</a><ul>
<li><a class="reference internal" href="#running-the-example">Running the Example</a></li>
<li><a class="reference internal" href="#performing-a-place-search">Performing a Place Search</a></li>
</ul>
</li>
<li><a class="reference internal" href="#marker-qml-example-file">Marker.qml Example File</a></li>
<li><a class="reference internal" href="#places-list-qml-example-file">places_list.qml Example File</a></li>
<li><a class="reference internal" href="#main-cpp-example-file">main.cpp Example File</a></li>
<li><a class="reference internal" href="#places-list-pro-example-file">places_list.pro Example File</a></li>
<li><a class="reference internal" href="#places-list-qrc-example-file">places_list.qrc Example File</a></li>
<li><a class="reference internal" href="#marker-png-image-file">marker.png Image File</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" id="q" size="18" />
      <input type="submit" value="Go" id="search_button" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="places-list-qml">
<span id="id1"></span><h1>Places List (QML)<a class="headerlink" href="#places-list-qml" title="Permalink to this headline">¶</a></h1>
<p>Places List example demonstrates how to search for and display a list of places using a ListView</p>
<blockquote>
<div>The Places List example demonstrates how to search for and display a list of places using a <span class="xref std std-ref">ListView</span> .</div></blockquote>
<div class="section" id="running-the-example">
<span id="id2"></span><h2>Running the Example<a class="headerlink" href="#running-the-example" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>To run the example from Qt Creator, open the <strong>Welcome</strong> mode and select the example from <strong>Examples</strong> . For more information, visit Building and Running an Example.</p>
<p>The <code class="docutils literal"><span class="pre">Places</span> <span class="pre">List</span></code> example demonstrates how to search for a list of places in a certain area and displays the result using a <span class="xref std std-ref">ListView</span> . In this particular case, a search for places associated with the term <code class="docutils literal"><span class="pre">pizza</span></code> is performed.</p>
</div></blockquote>
</div>
<div class="section" id="performing-a-place-search">
<span id="id3"></span><h2>Performing a Place Search<a class="headerlink" href="#performing-a-place-search" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>To write a QML application that will show places in a list, we start by making the following import declarations.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">QtQuick</span> <span class="mf">2.0</span>
<span class="kn">import</span> <span class="nn">QtPositioning</span> <span class="mf">5.5</span>
<span class="kn">import</span> <span class="nn">QtLocation</span> <span class="mf">5.6</span>
</pre></div>
</div>
<p>Instantiate a <a class="reference internal" href="location-places-qml.html#qml-places-api"><span class="std std-ref">Plugin</span></a> instance. The <a class="reference internal" href="location-places-qml.html#qml-places-api"><span class="std std-ref">Plugin</span></a> is effectively the backend from where places are sourced from. Depending on the type of the plugin, some mandatory parameters may be need to be filled in. The most likely type of <span class="xref std std-ref">PluginParameter</span> are some form of service access token which are documented in the service plugin. As an example see the <a class="reference internal" href="location-plugin-here.html#qt-location-here-plugin"><span class="std std-ref">HERE Plugin</span></a> documentation. In this snippet the <code class="docutils literal"><span class="pre">osm</span></code> plugin is used which does not require any further parameter:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Plugin</span> <span class="p">{</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">myPlugin</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;osm&quot;</span>
    <span class="o">//</span><span class="n">specify</span> <span class="n">plugin</span> <span class="n">parameters</span> <span class="k">as</span> <span class="n">necessary</span>
    <span class="o">//</span><span class="n">PluginParameter</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>
    <span class="o">//</span><span class="n">PluginParameter</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>
    <span class="o">//...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Next we instantiate a <span class="xref std std-ref">PlaceSearchModel</span> which we can use to specify search parameters and perform a places search operation. For illustrative purposes, <span class="xref std std-ref">update()</span> is invoked once construction of the model is complete. Typically <span class="xref std std-ref">update()</span> would be invoked in response to a user action such as a button click.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">PlaceSearchModel</span> <span class="p">{</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">searchModel</span>

    <span class="n">plugin</span><span class="p">:</span> <span class="n">myPlugin</span>

    <span class="n">searchTerm</span><span class="p">:</span> <span class="s2">&quot;pizza&quot;</span>
    <span class="n">searchArea</span><span class="p">:</span> <span class="n">QtPositioning</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">startCoordinate</span><span class="p">);</span>

    <span class="n">Component</span><span class="o">.</span><span class="n">onCompleted</span><span class="p">:</span> <span class="n">update</span><span class="p">()</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Finally we instantiate a <span class="xref std std-ref">ListView</span> to show the search results found by the model. An inline delegate has been used and we have assumed that every search result is of <span class="xref std std-ref">type</span> <code class="docutils literal"><span class="pre">PlaceSearchesult</span></code> . Consequently it is assumed that we always have access to the <em>place</em> <span class="xref std std-ref">role</span> , other search result types may not have a <em>place</em> <span class="xref std std-ref">role</span> .</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ListView</span> <span class="p">{</span>
    <span class="n">anchors</span><span class="o">.</span><span class="n">fill</span><span class="p">:</span> <span class="n">parent</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">searchModel</span>
    <span class="n">delegate</span><span class="p">:</span> <span class="n">Component</span> <span class="p">{</span>
        <span class="n">Row</span> <span class="p">{</span>
            <span class="n">spacing</span><span class="p">:</span> <span class="mi">5</span>
            <span class="n">Marker</span> <span class="p">{</span> <span class="n">height</span><span class="p">:</span> <span class="n">parent</span><span class="o">.</span><span class="n">height</span> <span class="p">}</span>
            <span class="n">Column</span> <span class="p">{</span>
                <span class="n">Text</span> <span class="p">{</span> <span class="n">text</span><span class="p">:</span> <span class="n">title</span><span class="p">;</span> <span class="n">font</span><span class="o">.</span><span class="n">bold</span><span class="p">:</span> <span class="n">true</span> <span class="p">}</span>
                <span class="n">Text</span> <span class="p">{</span> <span class="n">text</span><span class="p">:</span> <span class="n">place</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">text</span> <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="marker-qml-example-file">
<h1>Marker.qml Example File<a class="headerlink" href="#marker-qml-example-file" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="places-list-qml-example-file">
<h1>places_list.qml Example File<a class="headerlink" href="#places-list-qml-example-file" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="main-cpp-example-file">
<h1>main.cpp Example File<a class="headerlink" href="#main-cpp-example-file" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="places-list-pro-example-file">
<h1>places_list.pro Example File<a class="headerlink" href="#places-list-pro-example-file" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="places-list-qrc-example-file">
<h1>places_list.qrc Example File<a class="headerlink" href="#places-list-qrc-example-file" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="marker-png-image-file">
<h1>marker.png Image File<a class="headerlink" href="#marker-png-image-file" title="Permalink to this headline">¶</a></h1>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <p>© 2018 The Qt Company Ltd. Documentation contributions included herein are the copyrights of their respective owners. The documentation provided herein is licensed under the terms of the <a href="http://www.gnu.org/license/fdl.html">GNU Free Documentation License version 1.3</a> as published by the Free Software Foundation. Qt and respective logos are trademarks of The Qt Company Ltd. in Finland and/or other countries worldwide. All other trademarks are property of their respective owners.</p>
    </div></div>
    <div id="footer" class="footer">
    </div>
</div>
  </body>
</html>