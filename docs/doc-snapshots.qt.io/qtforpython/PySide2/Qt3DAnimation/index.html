
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>PySide2.Qt3DAnimation &#8212; Qt for Python (Technology Preview)</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '5.11.0~a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Qt3DAnimation" href="Qt3DAnimation.html" />
    <link rel="prev" title="Qt for Python modules" href="../../modules.html" />
  <link rel="stylesheet" type="text/css" href="/style/pyside.css" />
  <link rel="icon" type="image/png" href="/style/pyside-32px.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/style/pyside-16px.png" sizes="16x16" />
  <script type="text/javascript"> wpThemeFolder = 'http://qt.io/wp-content/themes/oneqt'; </script>
  <script type="text/javascript" src="/scripts/main.js"></script>
  <script type="text/javascript" src="/scripts/extras.js"></script>
  <script type="text/javascript">
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-54043535-2', 'qt.io');
    ga('set', 'forceSSL', true);
    ga('send', 'pageview');
  </script>

  </head>
  <body>
<div id="container">
    <div class="header">
        <div class="header_container">
            <header id="navbar">
            </header>
        </div>
    </div>
    <div class="main">
        <div class="main-rounded">
            <div class="navigationbar">
                <ul class="sub-navigation">
                    <li><a href="http://wiki.qt.io/">Wiki</a></li>
                    <li><a href="https://doc.qt.io/">Documentation</a></li>
                    <li><a href="http://forum.qt.io/">Forum</a></li>
                    <li><a href="https://bugreports.qt.io/">Bug Reports</a></li>
                    <li><a href="https://codereview.qt-project.org/">Code Review</a></li>
                </ul>
                <div id="main_title_bar"><h1>Qt Documentation</h1></div>
                <div class="related">
                    <ul>
                        <li><a href="../../index.html">Qt for Python (Technology Preview)</a></li>
                            <li><a href="../../contents.html" >Qt for Python Documentation</a></li>
                            <li><a href="../../modules.html" accesskey="U">Qt for Python modules</a></li> 
                    </ul>
                </div>
            </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">PySide2.Qt3DAnimation</a><ul>
<li><a class="reference internal" href="#detailed-description">Detailed Description</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#animation-data">Animation Data</a></li>
<li><a class="reference internal" href="#playing-animations">Playing Animations</a></li>
<li><a class="reference internal" href="#simple-animation-playback">Simple Animation Playback</a></li>
<li><a class="reference internal" href="#blended-animation-playback">Blended Animation Playback</a></li>
<li><a class="reference internal" href="#reference">Reference</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../../modules.html"
                        title="previous chapter">Qt for Python modules</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Qt3DAnimation.html"
                        title="next chapter">Qt3DAnimation</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" id="q" size="18" />
      <input type="submit" value="Go" id="search_button" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-PySide2.Qt3DAnimation"></span><div class="section" id="pyside2-qt3danimation">
<h1>PySide2.Qt3DAnimation<a class="headerlink" href="#pyside2-qt3danimation" title="Permalink to this headline">¶</a></h1>
<div class="pysidetoc docutils container">
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="24%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><p class="first"><strong>t</strong></p>
<ul class="last simple">
<li><a class="reference internal" href="Qt3DAnimation.html"><span class="doc">Qt3DAnimation</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QAbstractAnimation.html"><span class="doc">Qt3DAnimation.QAbstractAnimation</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QAbstractAnimationClip.html"><span class="doc">Qt3DAnimation.QAbstractAnimationClip</span></a></li>
</ul>
</td>
<td><ul class="first last simple">
<li><a class="reference internal" href="Qt3DAnimation.QAbstractClipAnimator.html"><span class="doc">Qt3DAnimation.QAbstractClipAnimator</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QAbstractClipBlendNode.html"><span class="doc">Qt3DAnimation.QAbstractClipBlendNode</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QAdditiveClipBlend.html"><span class="doc">Qt3DAnimation.QAdditiveClipBlend</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QAnimationAspect.html"><span class="doc">Qt3DAnimation.QAnimationAspect</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QAnimationController.html"><span class="doc">Qt3DAnimation.QAnimationController</span></a></li>
</ul>
</td>
<td><ul class="first last simple">
<li><a class="reference internal" href="Qt3DAnimation.QAnimationGroup.html"><span class="doc">Qt3DAnimation.QAnimationGroup</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QBlendedClipAnimator.html"><span class="doc">Qt3DAnimation.QBlendedClipAnimator</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QClipAnimator.html"><span class="doc">Qt3DAnimation.QClipAnimator</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QKeyframeAnimation.html"><span class="doc">Qt3DAnimation.QKeyframeAnimation</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QLerpClipBlend.html"><span class="doc">Qt3DAnimation.QLerpClipBlend</span></a></li>
</ul>
</td>
<td><ul class="first last simple">
<li><a class="reference internal" href="Qt3DAnimation.QMorphTarget.html"><span class="doc">Qt3DAnimation.QMorphTarget</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QMorphingAnimation.html"><span class="doc">Qt3DAnimation.QMorphingAnimation</span></a></li>
<li><a class="reference internal" href="Qt3DAnimation.QVertexBlendAnimation.html"><span class="doc">Qt3DAnimation.QVertexBlendAnimation</span></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="hide docutils container">
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.html">Qt3DAnimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QAnimationAspect.html">Qt3DAnimation.QAnimationAspect</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QAbstractClipAnimator.html">Qt3DAnimation.QAbstractClipAnimator</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QBlendedClipAnimator.html">Qt3DAnimation.QBlendedClipAnimator</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QClipAnimator.html">Qt3DAnimation.QClipAnimator</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QAbstractClipBlendNode.html">Qt3DAnimation.QAbstractClipBlendNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QLerpClipBlend.html">Qt3DAnimation.QLerpClipBlend</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QAdditiveClipBlend.html">Qt3DAnimation.QAdditiveClipBlend</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QAbstractAnimationClip.html">Qt3DAnimation.QAbstractAnimationClip</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QMorphTarget.html">Qt3DAnimation.QMorphTarget</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QAnimationGroup.html">Qt3DAnimation.QAnimationGroup</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QAnimationController.html">Qt3DAnimation.QAnimationController</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QAbstractAnimation.html">Qt3DAnimation.QAbstractAnimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QMorphingAnimation.html">Qt3DAnimation.QMorphingAnimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QVertexBlendAnimation.html">Qt3DAnimation.QVertexBlendAnimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qt3DAnimation.QKeyframeAnimation.html">Qt3DAnimation.QKeyframeAnimation</a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="detailed-description">
<h2>Detailed Description<a class="headerlink" href="#detailed-description" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The Qt 3D Animation modules provides a set of prebuilt elements to help you get started with Qt 3D.</p>
<p>This module is still in development but is available as a technology preview. This means it is unstable, likely to change and provided as a convenience only.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#include &lt;Qt3DAnimation&gt;</span>
</pre></div>
</div>
<p>To link against the corresponding C++ library, add the following to your qmake project file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">QT</span> <span class="o">+=</span> <span class="mi">3</span><span class="n">danimation</span>
</pre></div>
</div>
<p>Classes, types, and functions are declared under the <span class="xref std std-ref">Qt3DAnimation</span> namespace.</p>
</div></blockquote>
<div class="section" id="overview">
<span id="qt3danimation-overview"></span><h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>The Qt 3D Animation module adds support for specifying and using animations that can be applied to the properties of objects in your simulation. Initially this module supports key frame based animations. That is, properties have values ‘keyed’ at certain times and when played back the property values are calculated by interpolating between the known values within the key frames. All of the animation evaluation within the Qt 3D Animation module takes place on the Qt 3D threadpool. This allows the animations to run smoothly and to scale up to high throughput.</div></blockquote>
</div>
<div class="section" id="animation-data">
<span id="qt3danimation-animation-data"></span><h3>Animation Data<a class="headerlink" href="#animation-data" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Key frame animation data can either be created programmatically via the Qt 3D Animation APIs such as Qt3DAnimation::QKeyFrameData or it can come from digital content creation (DCC) tools such as Blender, Maya or 3D Studio Max. Qt 3D provides an example export script for animation data for Blender. The format consumed by Qt 3D Animation at present is a simple JSON based format. This allows both developers and artists to easily work with animation data. More formats optimised for runtime consumption will be added later.</p>
<p>The key frame animation data can be loaded from file using the <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QAnimationClipLoader</span></code> class. To specify animation data programmatically use the <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QAnimationClip</span></code> class.</p>
<p>By default, the key frame data is specified using cubic bezier curves. This allows smooth animations to be created from a small number of key frame data points. Other interpolation types will be added later.</p>
</div></blockquote>
</div>
<div class="section" id="playing-animations">
<span id="qt3danimation-playing-animations"></span><h3>Playing Animations<a class="headerlink" href="#playing-animations" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>In addition to the animation data containing the key frames, Qt 3D Animation also provides APIs for playing the animations and mapping the resulting property values onto properties of objects in your simulation. There are currently two ways of playing the animations:</p>
<ul class="simple">
<li><code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QClipAnimator</span></code></li>
<li><code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QBlendedClipAnimator</span></code></li>
</ul>
<p>Both of these are implemented as subclasses of <code class="xref py py-class docutils literal"><span class="pre">Qt3DCore.QComponent</span></code> meaning that objects of these types can be aggregated by <code class="xref py py-class docutils literal"><span class="pre">Qt3DCore.QEntity</span></code> objects to add animation capabilities to your simulated entities.</p>
</div></blockquote>
</div>
<div class="section" id="simple-animation-playback">
<span id="qt3danimation-simple-animation-playback"></span><h3>Simple Animation Playback<a class="headerlink" href="#simple-animation-playback" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QClipAnimator</span></code> class allows the playback of a single <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QAbstractAnimationClip</span></code> at a time. To add an animation to an entity, simply add an instance of the <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QClipAnimator</span></code> class to your entity’s <code class="docutils literal"><span class="pre">components</span></code> property.</p>
<p>The Qt 3D Animation module takes a slightly different approach to <a class="reference internal" href="../QtCore/QPropertyAnimation.html#PySide2.QtCore.QPropertyAnimation" title="PySide2.QtCore.QPropertyAnimation"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtCore.QPropertyAnimation</span></code></a> and <span class="xref std std-ref">AbstractAnimation</span> . With those animation frameworks, the animation specifies both the animation values <em>and</em> the target objects and properties. The animation components in Qt 3D separate these two orthogonal concepts. For example, the <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QClipAnimator</span></code> component has a <code class="docutils literal"><span class="pre">clip</span></code> property for specifying the animation data ( <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QAnimationClip</span></code> or <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QAnimationClipLoader</span></code> ).</p>
<p>This allows calculation of the animated values, but more information is needed in order to map these values onto properties of objects. This is accomplished with the a <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QChannelMapper</span></code> which contains a list of <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QChannelMapping</span></code> objects. A <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QChannelMapping</span></code> is used to map a specific channel from an animation clip onto a named property of a target object. By separating the animation data and property mappings like this, the same animation can be applied to many objects without needing to have multiple copies of the animation data or objects. It also allows animation data to easily be retargeted to other objects.</p>
</div></blockquote>
</div>
<div class="section" id="blended-animation-playback">
<span id="qt3danimation-blended-animation-playback"></span><h3>Blended Animation Playback<a class="headerlink" href="#blended-animation-playback" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QBlendedClipAnimator</span></code> component allows to go beyond what is possible with <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QClipAnimator</span></code> by blending several animation clips together before applying the property changes to the target properties. The animator component still takes a channel mapper just like the standard <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QClipAnimator</span></code> component. However, instead of specifying a single animation clip, it is necessary to set the <code class="docutils literal"><span class="pre">blendTree</span></code> property to point to the root node of a <em>blend tree</em> .</p>
<p>A blend tree is a data structure representing how animation clips get aggregated or blended together as the function of properties on the blend tree nodes. The currently supported set of blend tree nodes are:</p>
<ul class="simple">
<li><code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QClipBlendValue</span></code></li>
<li><code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QLerpClipBlend</span></code></li>
<li><code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QAdditiveClipBlend</span></code></li>
</ul>
<p>The source animation clip inputs are specified as leaf nodes in the blend tree using instances of the <code class="xref py py-class docutils literal"><span class="pre">Qt3DAnimation.QClipBlendValue</span></code> class. These animation clips can be combined in a large number of ways. For now the Qt3D Animation module provides linear interpolation (LERP) and additive blend operations. More blend node types will be added over time. These are expected to include at least a generalised LERP node and a barycentric LERP node.</p>
<p>As an example consider the following blend tree:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Clip0</span><span class="o">----</span>
        <span class="o">|</span>
        <span class="n">Lerp</span> <span class="n">Node</span><span class="o">----</span>
        <span class="o">|</span>           <span class="o">|</span>
<span class="n">Clip1</span><span class="o">----</span>           <span class="n">Additive</span> <span class="n">Node</span>
                    <span class="o">|</span>
            <span class="n">Clip2</span><span class="o">----</span>
</pre></div>
</div>
<p>Let’s assume that <code class="docutils literal"><span class="pre">Clip0</span></code> represents a walk animation cycle with a duration of 3 seconds and that <code class="docutils literal"><span class="pre">Clip1</span></code> is a run animation cycle with a duration of 2 seconds. These are both inputs (and dependencies) of the <code class="docutils literal"><span class="pre">Lerp</span></code> blend node. The result of evaluating the <code class="docutils literal"><span class="pre">Lerp</span></code> node depends upon the <code class="docutils literal"><span class="pre">blendFactor</span></code> property of the <code class="docutils literal"><span class="pre">Lerp</span></code> node. This could be bound to the speed of a humanoid character entity for example. As the speed of the character increases the animation gradually cross-fades from the walk animation in <code class="docutils literal"><span class="pre">Clip0</span></code> to the run animation in <code class="docutils literal"><span class="pre">Clip1</span></code> .</p>
<p>Furthermore, let’s assume that <code class="docutils literal"><span class="pre">Clip2</span></code> represents some variation animation that can be added on (waving arms or shaking head for e.g.). The amount of this additive clip that is added can be controlled by the <code class="docutils literal"><span class="pre">additiveFactor</span></code> property on the <code class="docutils literal"><span class="pre">Additive</span></code> blend node.</p>
<p>When evaluating a blend tree, normalized time (or phase) is used so that clips of different durations can be blended together without problems. For example, even though the walk and run animation clips are of different lengths, as long as they are created by the animator such that the foot-falls line up at the same phase these can be nicely interpolated.</p>
<p>The implication of this is that the duration of the blended clip is actually a function of the blend factors of the nodes in the tree. Considering only the <code class="docutils literal"><span class="pre">Lerp</span></code> node in the above example, when the blend factor of the <code class="docutils literal"><span class="pre">Lerp</span></code> node is 0, only the walk animation in Clip0 is used resulting in a duration of 3 seconds. With a blend factor of 1 the resulting duration will be 2 seconds. For intermediate blend factors, the duration will be linearly interpolated between 3 and 2 seconds.</p>
<p>By definining your own blend trees, you have complete control over how to combine your collection of input animation clips. The blend tree can be configured by the properties on the blend nodes. Note also that the properties on the blend nodes themselves are just standard properties, so these could in turn be driven by other animations if desired.</p>
</div></blockquote>
</div>
<div class="section" id="reference">
<span id="qt3danimation-reference"></span><h3>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><span class="xref std std-ref">Qt 3D Animation C++ Classes</span></li>
<li><a class="reference internal" href="../../overviews/qt3d-examples.html#qt-3d-examples"><span class="std std-ref">Qt 3D Examples</span></a></li>
</ul>
</div></blockquote>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <p>© 2018 The Qt Company Ltd. Documentation contributions included herein are the copyrights of their respective owners. The documentation provided herein is licensed under the terms of the <a href="http://www.gnu.org/license/fdl.html">GNU Free Documentation License version 1.3</a> as published by the Free Software Foundation. Qt and respective logos are trademarks of The Qt Company Ltd. in Finland and/or other countries worldwide. All other trademarks are property of their respective owners.</p>
    </div></div>
    <div id="footer" class="footer">
    </div>
</div>
  </body>
</html>