
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>QVideoFilterRunnable &#8212; Qt for Python (Technology Preview)</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '5.11.0~a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="QVideoFrame" href="QVideoFrame.html" />
    <link rel="prev" title="QAudioFormat" href="QAudioFormat.html" />
  <link rel="stylesheet" type="text/css" href="/style/pyside.css" />
  <link rel="icon" type="image/png" href="/style/pyside-32px.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/style/pyside-16px.png" sizes="16x16" />
  <script type="text/javascript"> wpThemeFolder = 'http://qt.io/wp-content/themes/oneqt'; </script>
  <script type="text/javascript" src="/scripts/main.js"></script>
  <script type="text/javascript" src="/scripts/extras.js"></script>
  <script type="text/javascript">
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-54043535-2', 'qt.io');
    ga('set', 'forceSSL', true);
    ga('send', 'pageview');
  </script>

  </head>
  <body>
<div id="container">
    <div class="header">
        <div class="header_container">
            <header id="navbar">
            </header>
        </div>
    </div>
    <div class="main">
        <div class="main-rounded">
            <div class="navigationbar">
                <ul class="sub-navigation">
                    <li><a href="http://wiki.qt.io/">Wiki</a></li>
                    <li><a href="https://doc.qt.io/">Documentation</a></li>
                    <li><a href="http://forum.qt.io/">Forum</a></li>
                    <li><a href="https://bugreports.qt.io/">Bug Reports</a></li>
                    <li><a href="https://codereview.qt-project.org/">Code Review</a></li>
                </ul>
                <div id="main_title_bar"><h1>Qt Documentation</h1></div>
                <div class="related">
                    <ul>
                        <li><a href="../../index.html">Qt for Python (Technology Preview)</a></li>
                            <li><a href="../../contents.html" >Qt for Python Documentation</a></li>
                            <li><a href="../../modules.html" >Qt for Python modules</a></li>
                            <li><a href="index.html" accesskey="U">PySide2.QtMultimedia</a></li> 
                    </ul>
                </div>
            </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">QVideoFilterRunnable</a><ul>
<li><a class="reference internal" href="#detailed-description">Detailed Description</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="QAudioFormat.html"
                        title="previous chapter">QAudioFormat</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="QVideoFrame.html"
                        title="next chapter">QVideoFrame</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" id="q" size="18" />
      <input type="submit" value="Go" id="search_button" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-PySide2.QtMultimedia"></span><div class="section" id="qvideofilterrunnable">
<span id="id1"></span><h1>QVideoFilterRunnable<a class="headerlink" href="#qvideofilterrunnable" title="Permalink to this headline">¶</a></h1>
<img src="../../_images/inheritance-10cd1befd22056066a5ed48313e7d78c5ee39cce.png" alt="Inheritance diagram of PySide2.QtMultimedia.QVideoFilterRunnable" usemap="#inheritance9f65ba8fe5" class="inheritance"/>
<map id="inheritance9f65ba8fe5" name="inheritance9f65ba8fe5">
<area shape="rect" id="node1" href="#PySide2.QtMultimedia.QVideoFilterRunnable" title="QtMultimedia.QVideoFilterRunnable" alt="" coords="5,5,251,31"/>
</map>
<div class="section" id="detailed-description">
<h2>Detailed Description<a class="headerlink" href="#detailed-description" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The <a class="reference internal" href="#PySide2.QtMultimedia.QVideoFilterRunnable" title="PySide2.QtMultimedia.QVideoFilterRunnable"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFilterRunnable</span></code></a> class represents the implementation of a filter that owns all graphics and computational resources, and performs the actual filtering or calculations.</p>
<p>Video filters are split into <a class="reference internal" href="QAbstractVideoFilter.html#PySide2.QtMultimedia.QAbstractVideoFilter" title="PySide2.QtMultimedia.QAbstractVideoFilter"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QAbstractVideoFilter</span></code></a> and corresponding <a class="reference internal" href="#PySide2.QtMultimedia.QVideoFilterRunnable" title="PySide2.QtMultimedia.QVideoFilterRunnable"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFilterRunnable</span></code></a> instances, similar to <a class="reference internal" href="../QtQuick/QQuickItem.html#PySide2.QtQuick.QQuickItem" title="PySide2.QtQuick.QQuickItem"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtQuick.QQuickItem</span></code></a> and <a class="reference internal" href="../QtQuick/QSGNode.html#PySide2.QtQuick.QSGNode" title="PySide2.QtQuick.QSGNode"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtQuick.QSGNode</span></code></a> . This is necessary to support threaded rendering scenarios. When using the threaded render loop of the Qt Quick scene graph, all rendering happens on a dedicated thread. <a class="reference internal" href="#PySide2.QtMultimedia.QVideoFilterRunnable" title="PySide2.QtMultimedia.QVideoFilterRunnable"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFilterRunnable</span></code></a> instances always live on this thread and all its functions, <a class="reference internal" href="#PySide2.QtMultimedia.PySide2.QtMultimedia.QVideoFilterRunnable.run" title="PySide2.QtMultimedia.PySide2.QtMultimedia.QVideoFilterRunnable.run"><code class="xref py py-meth docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFilterRunnable.run()</span></code></a> , the constructor, and the destructor, are guaranteed to be invoked on that thread with the OpenGL context bound. <a class="reference internal" href="QAbstractVideoFilter.html#PySide2.QtMultimedia.QAbstractVideoFilter" title="PySide2.QtMultimedia.QAbstractVideoFilter"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QAbstractVideoFilter</span></code></a> instances live on the main (GUI) thread, like any other <a class="reference internal" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="PySide2.QtCore.QObject"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtCore.QObject</span></code></a> and <a class="reference internal" href="../QtQuick/QQuickItem.html#PySide2.QtQuick.QQuickItem" title="PySide2.QtQuick.QQuickItem"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtQuick.QQuickItem</span></code></a> instances created from QML.</p>
<p>Once created, <a class="reference internal" href="#PySide2.QtMultimedia.QVideoFilterRunnable" title="PySide2.QtMultimedia.QVideoFilterRunnable"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFilterRunnable</span></code></a> instances are managed by Qt Multimedia and will be automatically destroyed and recreated when necessary, for example when the scene graph is invalidated or the <a class="reference internal" href="../QtQuick/QQuickWindow.html#PySide2.QtQuick.QQuickWindow" title="PySide2.QtQuick.QQuickWindow"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtQuick.QQuickWindow</span></code></a> changes or is closed. Creation happens via the <a class="reference internal" href="QAbstractVideoFilter.html#PySide2.QtMultimedia.PySide2.QtMultimedia.QAbstractVideoFilter.createFilterRunnable" title="PySide2.QtMultimedia.PySide2.QtMultimedia.QAbstractVideoFilter.createFilterRunnable"><code class="xref py py-meth docutils literal"><span class="pre">QAbstractVideoFilter.createFilterRunnable()</span></code></a> factory function.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="QAbstractVideoFilter.html#PySide2.QtMultimedia.QAbstractVideoFilter" title="PySide2.QtMultimedia.QAbstractVideoFilter"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QAbstractVideoFilter</span></code></a></p>
</div>
</div></blockquote>
<dl class="class">
<dt id="PySide2.QtMultimedia.QVideoFilterRunnable">
<em class="property">class </em><code class="descclassname">PySide2.QtMultimedia.</code><code class="descname">QVideoFilterRunnable</code><a class="headerlink" href="#PySide2.QtMultimedia.QVideoFilterRunnable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="PySide2.QtMultimedia.PySide2.QtMultimedia.QVideoFilterRunnable.RunFlag">
<code class="descclassname">PySide2.QtMultimedia.QVideoFilterRunnable.</code><code class="descname">RunFlag</code><a class="headerlink" href="#PySide2.QtMultimedia.PySide2.QtMultimedia.QVideoFilterRunnable.RunFlag" title="Permalink to this definition">¶</a></dt>
<dd><table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Constant</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>QVideoFilterRunnable.LastInChain</td>
<td>Indicates that the filter runnable’s associated <a class="reference internal" href="QAbstractVideoFilter.html#PySide2.QtMultimedia.QAbstractVideoFilter" title="PySide2.QtMultimedia.QAbstractVideoFilter"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QAbstractVideoFilter</span></code></a> is the last in the corresponding <span class="xref std std-ref">VideoOutput</span> type’s filters list, meaning that the returned frame is the one that is going to be presented to the scene graph without invoking any further filters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtMultimedia.PySide2.QtMultimedia.QVideoFilterRunnable.run">
<code class="descclassname">PySide2.QtMultimedia.QVideoFilterRunnable.</code><code class="descname">run</code><span class="sig-paren">(</span><em>input</em>, <em>surfaceFormat</em>, <em>flags</em><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtMultimedia.PySide2.QtMultimedia.QVideoFilterRunnable.run" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input</strong> – <a class="reference internal" href="QVideoFrame.html#PySide2.QtMultimedia.QVideoFrame" title="PySide2.QtMultimedia.QVideoFrame"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFrame</span></code></a></li>
<li><strong>surfaceFormat</strong> – <a class="reference internal" href="QVideoSurfaceFormat.html#PySide2.QtMultimedia.QVideoSurfaceFormat" title="PySide2.QtMultimedia.QVideoSurfaceFormat"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoSurfaceFormat</span></code></a></li>
<li><strong>flags</strong> – <code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFilterRunnable.RunFlags</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="QVideoFrame.html#PySide2.QtMultimedia.QVideoFrame" title="PySide2.QtMultimedia.QVideoFrame"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFrame</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Reimplement this function to perform filtering or computation on the <code class="docutils literal"><span class="pre">input</span></code> video frame. Like the constructor and destructor, this function is always called on the render thread with the OpenGL context bound.</p>
<p>Implementations that do not modify the video frame can simply return <code class="docutils literal"><span class="pre">input</span></code> .</p>
<p>It is safe to access properties of the associated <a class="reference internal" href="QAbstractVideoFilter.html#PySide2.QtMultimedia.QAbstractVideoFilter" title="PySide2.QtMultimedia.QAbstractVideoFilter"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QAbstractVideoFilter</span></code></a> instance from this function.</p>
<p><code class="docutils literal"><span class="pre">input</span></code> will not be mapped, it is up to this function to call <a class="reference internal" href="QVideoFrame.html#PySide2.QtMultimedia.PySide2.QtMultimedia.QVideoFrame.map" title="PySide2.QtMultimedia.PySide2.QtMultimedia.QVideoFrame.map"><code class="xref py py-meth docutils literal"><span class="pre">QVideoFrame.map()</span></code></a> and <a class="reference internal" href="QVideoFrame.html#PySide2.QtMultimedia.PySide2.QtMultimedia.QVideoFrame.unmap" title="PySide2.QtMultimedia.PySide2.QtMultimedia.QVideoFrame.unmap"><code class="xref py py-meth docutils literal"><span class="pre">QVideoFrame.unmap()</span></code></a> as necessary.</p>
<p><code class="docutils literal"><span class="pre">surfaceFormat</span></code> provides additional information, for example it can be used to determine which way is up in the input image as that is important for filters to operate on multiple platforms with multiple cameras.</p>
<p><code class="docutils literal"><span class="pre">flags</span></code> contains additional information about the filter’s invocation. For example the <code class="xref py py-attr docutils literal"><span class="pre">LastInChain</span></code> flag indicates that the filter is the last in a <span class="xref std std-ref">VideoOutput</span> ‘s associated filter list. This can be very useful in cases where multiple filters are chained together and the work is performed on image data in some custom format (for example a format specific to some computer vision framework). To avoid conversion on every filter in the chain, all intermediate filters can return a <a class="reference internal" href="QVideoFrame.html#PySide2.QtMultimedia.QVideoFrame" title="PySide2.QtMultimedia.QVideoFrame"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFrame</span></code></a> hosting data in the custom format. Only the last, where the flag is set, returns a <a class="reference internal" href="QVideoFrame.html#PySide2.QtMultimedia.QVideoFrame" title="PySide2.QtMultimedia.QVideoFrame"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFrame</span></code></a> in a format compatible with Qt.</p>
<p>Filters that want to expose the results of their computation to Javascript code in QML can declare their own custom signals in the <a class="reference internal" href="QAbstractVideoFilter.html#PySide2.QtMultimedia.QAbstractVideoFilter" title="PySide2.QtMultimedia.QAbstractVideoFilter"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QAbstractVideoFilter</span></code></a> subclass to indicate the completion of the operation. For filters that only calculate some results and do not modify the video frame, it is also possible to operate asynchronously. They can queue the necessary operations using the compute API and return from this function without emitting any signals. The signal indicating the completion is then emitted only when the compute API indicates that the operations were done and the results are available. Note that it is strongly recommended to represent the filter’s output data as a separate instance of QJSValue or a <a class="reference internal" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="PySide2.QtCore.QObject"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtCore.QObject</span></code></a> -derived class which is passed as a parameter to the signal and becomes exposed to the Javascript engine. In case of <a class="reference internal" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="PySide2.QtCore.QObject"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtCore.QObject</span></code></a> the ownership of this object is controlled by the standard QML rules: if it has no parent, ownership is transferred to the Javascript engine, otherwise it stays with the emitter. Note that the signal connection may be queued,for example when using the threaded render loop of Qt Quick, and so the object must stay valid for a longer time, destroying it right after calling this function is not safe. Using a dedicated results object is guaranteed to be safe even when using threaded rendering. The same is not necessarily true for properties on the <a class="reference internal" href="QAbstractVideoFilter.html#PySide2.QtMultimedia.QAbstractVideoFilter" title="PySide2.QtMultimedia.QAbstractVideoFilter"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QAbstractVideoFilter</span></code></a> instance itself: properties can safely be read in since the gui thread is blocked during that time but writing may become problematic.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Avoid time consuming operations in this function as they block the entire rendering of the application.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The handleType() and pixelFormat() of <code class="docutils literal"><span class="pre">input</span></code> is completely up to the video decoding backend on the platform in use. On some platforms different forms of input are used depending on the graphics stack. For example, when playing back videos on Windows with the WMF backend, <a class="reference internal" href="QVideoFrame.html#PySide2.QtMultimedia.QVideoFrame" title="PySide2.QtMultimedia.QVideoFrame"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFrame</span></code></a> contains OpenGL-wrapped Direct3D textures in case of using ANGLE, but regular pixel data when using desktop OpenGL (opengl32.dll). Similarly, the video file format will often decide if the data is RGB or YUV, but this may also depend on the decoder and the configuration in use. The returned video frame does not have to be in the same format as the input, for example a filter with an input of a <a class="reference internal" href="QVideoFrame.html#PySide2.QtMultimedia.QVideoFrame" title="PySide2.QtMultimedia.QVideoFrame"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFrame</span></code></a> backed by system memory can output a <a class="reference internal" href="QVideoFrame.html#PySide2.QtMultimedia.QVideoFrame" title="PySide2.QtMultimedia.QVideoFrame"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFrame</span></code></a> with an OpenGL texture handle.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="QVideoFrame.html#PySide2.QtMultimedia.QVideoFrame" title="PySide2.QtMultimedia.QVideoFrame"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoFrame</span></code></a>  <a class="reference internal" href="QVideoSurfaceFormat.html#PySide2.QtMultimedia.QVideoSurfaceFormat" title="PySide2.QtMultimedia.QVideoSurfaceFormat"><code class="xref py py-class docutils literal"><span class="pre">PySide2.QtMultimedia.QVideoSurfaceFormat</span></code></a></p>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <p>© 2018 The Qt Company Ltd. Documentation contributions included herein are the copyrights of their respective owners. The documentation provided herein is licensed under the terms of the <a href="http://www.gnu.org/license/fdl.html">GNU Free Documentation License version 1.3</a> as published by the Free Software Foundation. Qt and respective logos are trademarks of The Qt Company Ltd. in Finland and/or other countries worldwide. All other trademarks are property of their respective owners.</p>
    </div></div>
    <div id="footer" class="footer">
    </div>
</div>
  </body>
</html>